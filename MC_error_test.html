<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Monte Carlo Error Propagation</title>
<link rel="stylesheet" href="console.css">

<script src="hidpi-canvas.js"></script>
<script type="text/javascript" src="libraries/brython.js"></script>
<script src="libraries/py_VFS.js"></script>
     <!-- This slows initial load, but speeds up calls to standard library
            See https://brython.info/static_doc/en/import.html
            Need to test to see how it affects usual usage -->
<script src="matplotlib.py"></script>
<script type="text/python3" id="start_editor">
from browser import document as doc, window, html

canvas = doc["plot_area"]
canvas.width=window.innerWidth*0.9
canvas.height=min(window.innerHeight*0.5,canvas.width)

def load_script(ev):
    script_num                    = doc['examples'].selectedIndex
    option                        = doc['examples'].options[script_num]
    src                           = open(option.value).read()
    doc['examples'].selectedIndex = script_num
    doc["editor"].value           = src
    doc["editor"].scrollTop       = 11*13
    #editor.run() # functions defined in editor.py

doc['examples'].bind('change',load_script)
doc['examples'].bind('click',load_script)

def clear_console_script(ev):
    doc["console"].value = ''
doc['clear_console'].bind('click',clear_console_script)

# To work in Chrome, any call to pyplot must be after the doc statement
from matplotlib import pyplot  # MUST be called only AFTER canvas is defined

# import, bind, and start editor.py
import editor
doc['run'].bind('click',editor.run)
editor.run()

</script>

</head>
<!-- onload="brython()" options:
  debug: can equal 0,1,2.  more verbose as number increases
  cache: 'none', 'version', 'browser'.
         'none' - no caching allowed. a new random number is appended to end of each request
         'version' - caching allowed for each new brython version
         'browser' - nothing is appended to request.  A clients browser is responsible for caching actions.
  pythonpath: a list of additional urls/paths to search for modules -->
<body onload="brython({debug:1, cache:'version'});">
<div style="text-align:left">Monte Carlo Error Propagation</div>

<div id="container">
    <div>
        <div style="float:left">
            <div style="float:left">
                <div class="buttonRow">
                    <select name="filename" id="examples">
                        <optgroup label="Section One">
                            <option selected value="example_log_parabolic.py">Log-Log Parabola</option>
                            <option          value="example_gravity.py">      Gravity</option>
                        </optgroup>
                        <optgroup label="Graphics">
                            <option          value="example_parabolic.py">    Parabola</option>
                            <option          value="example_gaussian.py">     Gaussian</option>
                        </optgroup>
                    </select>
                    <button id="run" > â–¶ Run</button>
                </div>
                <textarea id="editor">
# Load or paste some code here
                </textarea>
            </div>
        </div>
        <div style="float:left">
            <div style="float:left">
                <button id="clear_console" > Clear Output Console</button>
                <div>
                    <textarea id="console"></textarea>
                </div>
            </div>
        </div>
    </div>
    <div style="clear:both">
        <canvas id="plot_area"></canvas>
    </div>
</div>

</body>
</html>

